<html>
<body>
<div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
<button id="fade-btn">淡入</button>

<script>
    document.querySelector('#fade-btn').addEventListener('click', function(e){
        var target = document.querySelector('#fade-obj');
        var button = e.target;
        if(button.innerText=='淡出'){
            target.style.opacity=1;
            button.disabled='disabled';
            var handler = setInterval(function(){
                if(target.style.opacity==0){
                    clearInterval(handler);
                    button.innerText='淡入';
                    button.disabled='';
                }else{
                    target.style.opacity -= .1;
                    console.log(1);
                }
            },1000
            
            )
        }else{
            target.style.opacity=0;
            button.disabled='disabled';
            var handler = setInterval(function(){
                if(target.style.opacity==1){
                    clearInterval(handler);
                    button.innerText='淡出';
                    button.disabled='';
                }else{
                    target.style.opacity = Number(target.style.opacity)+0.1;
                    console.log(1);
                }
            },1000)
        }
    });

    function foo(e){
        
    }
</script>

</body>
</html>